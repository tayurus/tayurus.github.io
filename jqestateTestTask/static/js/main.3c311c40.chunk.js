(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(90)},38:function(e,t,a){},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),c=a.n(i),o=(a(38),a(10)),s=a(11),l=a(15),d=a(12),u=a(14),p=a(8),m=(a(40),a(42),function(e){var t=e.title,a=e.price,n=e.area,i=e.sotki;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card__image",style:{backgroundImage:"url(https://www.13min.ru/wp-content/uploads/2012/10/Sobstvennyj-dom.jpg)"}}),r.a.createElement("div",{className:"card__title"},t),r.a.createElement("div",{className:"card__price"},a.toLocaleString()),r.a.createElement("div",{className:"card__area"},r.a.createElement("div",{className:"card__sotki"},i," \u0441\u043e\u0442"),r.a.createElement("div",{className:"card__square"},n," \u043c",r.a.createElement("sup",null,"2"))))});m.defaultProps={title:"\u0414\u043e\u043c",price:"100 000",sotki:"3",square:"100"};a(44);var f=function(e){function t(e){return Object(o.a)(this,t),Object(l.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.cards;return r.a.createElement("div",{className:"cards-grid"},e.map(function(e,t){return r.a.createElement(m,Object.assign({key:t},e))}))}}]),t}(r.a.Component);f.defaultProps={cards:[]};var g=a(21),h=a(13),v="GET_CARDS_REQUEST",b="GET_CARDS_FAILURE",E="GET_CARDS_SUCCESS",j=a(24),O=a.n(j),_=a(30),k={getCards:function(){return w.apply(this,arguments)}};function w(){return(w=Object(_.a)(O.a.mark(function e(){var t,a,n=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,e.next=3,fetch("https://api.jqestate.ru/v1/properties/country?pagination[offset]="+t);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var y={getCards:function(e,t){return function(a){a({type:v}),k.getCards(e).then(function(e){"undefined"!==typeof e.errors?a({type:b}):a({type:E,cards:e.items,total:e.pagination.total,limit:e.pagination.limit,paginationIndex:t})}).catch(function(e){return a({type:b})})}}},C=function(e){function t(e){var a;return Object(o.a)(this,t),(0,(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).props.dispatch)(y.getCards(0)),a.handlePaginationItemClick=a.handlePaginationItemClick.bind(Object(p.a)(Object(p.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handlePaginationItemClick",value:function(e){var t=this.props,a=t.dispatch,n=t.limit;a(y.getCards((e-1)*n,e))}},{key:"render",value:function(){if(this.props.error)return alert("\u041f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"),r.a.createElement("div",null);if(!this.props.loading){var e=this.props.cards.map(function(e){return{title:e.kind,currency:e.saleOffer?e.saleOffer.currency:"none",price:e.saleOffer?e.saleOffer.price:"none",area:e.specification.area,sotki:(e.specification.area/100).toFixed(1)}}),t=this.props,a=t.total,n=t.limit,i=t.paginationIndex;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(f,{cards:e}),r.a.createElement(g.Pagination,{className:"App__pagination",items:parseInt(a/n)+(a>n&&a%n?1:0),activePage:i,onSelect:this.handlePaginationItemClick,maxButtons:8})))}return r.a.createElement("div",{className:"App App_loading"},r.a.createElement(g.Preloader,{size:"big"}))}}]),t}(n.Component);var I=Object(h.b)(function(e){return{cards:e.cards,total:e.total,limit:e.limit,loading:e.loading,paginationIndex:e.paginationIndex,error:e.error}},null)(C);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(9),N=a(31),S=a(32),P=a(16),A={cards:[],paginationIndex:1},R=Object(x.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(P.a)({},e,{loading:!0,error:!1});case b:return Object(P.a)({},e,{loading:!1,error:!0});case E:return Object(P.a)({},e,{cards:t.cards,total:t.total,limit:t.limit,paginationIndex:t.paginationIndex,loading:!1,error:!1});default:return e}return e},Object(x.a)(N.a,S.logger));c.a.render(r.a.createElement(h.a,{store:R},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.3c311c40.chunk.js.map